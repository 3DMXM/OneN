import{o,h as a,i as t,F as _,j as c,t as l,l as u,v as h,m as k,y as m,z as p,e as r}from"./vendor.d9abb3a6.js";import{_ as v}from"./plugin-vue_export-helper.21dcd24c.js";const n=e=>(m("data-v-013c314c"),e=e(),p(),e),f={class:"Link"},w={class:"mdui-typo"},L=n(()=>t("h1",null,"\u77ED\u94FE\u8BBE\u7F6E",-1)),b=n(()=>t("hr",null,null,-1)),g=n(()=>t("hr",null,null,-1)),y={class:"mdui-col-xs-12"},A={class:"mdui-table-fluid"},$={class:"mdui-table mdui-table-hoverable"},C=n(()=>t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u77ED\u94FE"),t("th",null,"\u8BBF\u95EE\u6B21\u6570"),t("th",null,"\u8DF3\u8F6C\u5730\u5740"),t("th",null,"\u7F16\u8F91")])],-1)),W=["href"],S=["href"],I=["onClick"],V={key:0,class:"add-link"},B={class:"add-seo-title"},D=n(()=>t("i",{class:"mdui-icon material-icons"},"clear",-1)),M=[D],j={class:"add-link-content"},E={class:"mdui-textfield"},F=n(()=>t("label",{for:"seo_parent",class:"mdui-textfield-label"},"\u672C\u5730\u77ED\u94FE",-1)),N={class:"mdui-textfield"},U=n(()=>t("label",{for:"seo_parent",class:"mdui-textfield-label"},"\u8DF3\u8F6C\u94FE\u63A5",-1)),z={class:"mdui-dialog-actions"},G={name:"Link",data(){return{link_list:[],showAddWindow:!1,editLink:{sc_string:"",sc_url:""}}},methods:{add(){this.showAddWindow=!0,this.editLink={}},edit(e){this.showAddWindow=!0,this.editLink=e},save(){this.editLink.id?r.post(`${this.$store.state.api}/admin/EditLink`,{link:this.editLink}).then(e=>{this.showAddWindow=!1,this.get_link_list()}):r.post(`${this.$store.state.api}/admin/AddLink`,{link:this.editLink}).then(e=>{this.showAddWindow=!1,this.get_link_list()})},randomString(){for(var e="",i="ABCDEFGHJKLMNPQRSTUVWXYZabcdefhijkmnprstuvwxyz2345678",d=0;d<10;d++)e+=i.charAt(Math.floor(Math.random()*i.length));this.editLink.short_link=e},get_link_list(){r.post(`${this.$store.state.api}/admin/GetLinkList`).then(e=>{this.link_list=e.data.data})}},mounted(){this.get_link_list()}},T=Object.assign(G,{setup(e){return(i,d)=>(o(),a("div",f,[t("div",w,[L,b,t("div",{class:"mdui-btn mdui-color-theme-accent mdui-ripple",onClick:d[0]||(d[0]=(...s)=>i.add&&i.add(...s))},"\u65B0\u5EFA\u77ED\u94FE"),g]),t("div",y,[t("div",A,[t("table",$,[C,t("tbody",null,[(o(!0),a(_,null,c(i.link_list,s=>(o(),a("tr",{key:s.id},[t("td",null,l(s.id),1),t("td",null,[t("a",{href:`/s/${s.short_link}`},"/s/"+l(s.short_link),9,W)]),t("td",null,l(s.click_cot),1),t("td",null,[t("a",{href:s.long_link,target:"_blank"},l(s.long_link),9,S)]),t("td",null,[t("div",{class:"mdui-btn mdui-color-theme-accent mdui-ripple",onClick:H=>i.edit(s)},"\u7F16\u8F91",8,I)])]))),128))])])])]),i.showAddWindow?(o(),a("div",V,[t("div",B,l(i.editLink.id?"\u7F16\u8F91\u77ED\u94FE":"\u65B0\u5EFA\u77ED\u94FE"),1),t("div",{class:"close-window",onClick:d[1]||(d[1]=s=>i.showAddWindow=!1)},M),t("div",j,[t("div",E,[F,u(t("input",{"onUpdate:modelValue":d[2]||(d[2]=s=>i.editLink.short_link=s),class:"mdui-textfield-input",type:"text"},null,512),[[h,i.editLink.short_link]]),t("div",{class:"mdui-btn mdui-color-theme-accent mdui-ripple",onClick:d[3]||(d[3]=(...s)=>i.randomString&&i.randomString(...s))},"\u968F\u673A\u751F\u6210\u77ED\u94FE")]),t("div",N,[U,u(t("input",{"onUpdate:modelValue":d[4]||(d[4]=s=>i.editLink.long_link=s),class:"mdui-textfield-input",type:"text"},null,512),[[h,i.editLink.long_link]])]),t("div",z,[t("button",{class:"mdui-btn mdui-color-theme-accent mdui-ripple",onClick:d[5]||(d[5]=s=>i.save())},l(i.editLink.id?"\u4FDD\u5B58":"\u6DFB\u52A0"),1),t("button",{class:"mdui-btn mdui-ripple",onClick:d[6]||(d[6]=s=>i.showAddWindow=!1)},"\u53D6\u6D88")])])])):k("",!0)]))}});var O=v(T,[["__scopeId","data-v-013c314c"]]);export{O as default};
